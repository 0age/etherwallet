function checkAndRedirectHTTPS(){var t="myetherwallet.com",e="kvhnuke.github.io",n="www.kvhnuke.github.io",a="www.myetherwallet.com";t!=window.location.host&&e!=window.location.host&&a!=window.location.host&&n!=window.location.host||"https:"==window.location.protocol||(window.location.protocol="https")}function checkAndLoadPageHash(){if(window.location.hash){var t=window.location.hash.substr(1);$(".ptabs").each(function(e){return $(this).attr("id")==t?($(this).click(),void setTimeout(function(){$("html,body").scrollTop(0)},50)):void 0})}}function paneNavigate(t,e){hideAllMainContainers(),$("#"+t).show(),$("#"+e).parent().addClass("active"),location.hash=e,$("html,body").scrollTop(0)}function bindElements(){$(".ptabs").each(function(t){$(this).click(function(){paneNavigate($(this).attr("showId"),this.id)})}),$("#privkeyenc,#address,#privkey").click(function(){this.focus(),this.select()}),$("#btndonate").click(function(){$("#sendtxaddress").val("0x7cb57b5a97eabe94205c07890be4c1ad31e486a8"),$("#donateThanks").show(),$("#sendtxaddress").trigger("keyup")}),$("#generatewallet").click(function(){generateSingleWallet()}),$("#btngeneratetranaction").click(function(){preCreateTransaction()}),$("#printqr").click(function(){printQRcode()}),$("#btnapprovesend").click(function(){preSendTransaction()}),$("#bulkgenerate").click(function(){generateBulkWallets()}),$("#transferAllBalance").click(function(){getMaxSendAmount($("#accountAddress").html(),function(t){$("#sendtxamount").val(t),$("input[type=radio][name=currencyRadio][value=ether]").prop("checked",!0),$("#sendtxamount").trigger("keyup")},function(t){$("#txcreatestatus").html('<p class="text-center text-danger"><strong> '+t+"</strong></p>").fadeIn(50).fadeOut(3e3)})}),$("#decryptdata").click(function(){$("#decryptStatus").html('<p class="text-center text-info"><strong> Please Wait...</strong></p>').fadeIn(10),setTimeout(function(){decryptFormData()},100)}),$("input[type=radio][name=typeOfKeyRadio]").change(function(){PrivKey="",$("#fuploadStatus").empty(),$("#walletfilepassword").val(""),$("#privkeypassword").val(""),$(".btn-file :file").val(""),$("#manualprivkey").val(""),$("#walletuploadbutton").hide(),$("#walletPasdiv").hide(),$("#divprikeypassword").hide(),$("#wallettransactions").hide(),$("#decryptStatus").hide(),"fileupload"==this.value?($("#selectedTypeKey").hide(),$("#selectedUploadKey").show(),decryptType="fupload"):"pasteprivkey"==this.value&&($("#selectedUploadKey").hide(),$("#selectedTypeKey").show(),decryptType="privkey")}),$("input[type=radio][name=currencyRadio]").change(function(){$("#sendtxamount").trigger("keyup")}),$("#walletfilepassword").on("paste, keyup",function(){""!=$("#walletfilepassword").val()?($("#uploadbtntxt-wallet").show(),$("#uploadbtntxt-privkey").hide(),$("#walletuploadbutton").show()):$("#walletuploadbutton").hide()}),$("#sendtxamount").on("paste, keyup",function(){var t=$("#sendtxamount").val();if(""!=$("#sendtxamount").val()&&$.isNumeric(t)&&t>0){var e=$("input[type=radio][name=currencyRadio]:checked").val();$("#weiamount").html('<p class="text-success"><strong>'+toWei(t,e)+" wei ( approximately "+toFiat(t,e,usdval)+" USD/"+toFiat(t,e,eurval)+" EUR )</strong></p>")}else $("#weiamount").html(""==$("#sendtxamount").val()||$.isNumeric(t)?"":'<p class="text-danger"><strong>Invalid amount</strong></p>')}),$("#sendtxaddress").on("paste, keyup",function(){validateEtherAddress($("#sendtxaddress").val())?$("#addressvalidate").html('<p class="text-success"><strong> Address is valid</strong></p>').fadeIn(50):""==$("#sendtxaddress").val()?$("#addressvalidate").html(""):$("#addressvalidate").html('<p class="text-danger"><strong> Invalid address</strong></p>').fadeIn(50)}),$("#privkeypassword").on("paste, keyup",function(){$("#privkeypassword").val().length>6?($("#uploadbtntxt-wallet").hide(),$("#uploadbtntxt-privkey").show(),$("#walletuploadbutton").show()):$("#walletuploadbutton").hide()}),$("#manualprivkey").on("paste, keyup",function(){$("#divprikeypassword").hide(),$("#walletuploadbutton").hide(),$("#uploadbtntxt-wallet").hide(),$("#uploadbtntxt-privkey").hide(),$("#manualprivkey").val($("#manualprivkey").val().replace(/(?:\r\n|\r|\n| )/g,"")),128==$("#manualprivkey").val().length||132==$("#manualprivkey").val().length?$("#divprikeypassword").show():64==$("#manualprivkey").val().length&&($("#uploadbtntxt-wallet").hide(),$("#uploadbtntxt-privkey").show(),$("#walletuploadbutton").show())}),$(".btn-file :file").change(function(){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return void alert("The File APIs are not fully supported in this browser. Please use a modern browser");var t=$(this),e=t.get(0).files?t.get(0).files.length:1,n=t.val().replace(/\\/g,"/").replace(/.*\//,"");t.trigger("fileselect",[e,n])}),$(".btn-file :file").on("fileselect",function(t,e,n){$("#fuploadStatus").empty(),$("#walletfilepassword").val(""),PrivKey="",file=$(".btn-file :file")[0].files[0];var a=new FileReader;a.onload=function(){try{walletRequirePass(a.result)?($("#walletPasdiv").show(),$("#walletuploadbutton").hide()):($("#walletPasdiv").hide(),$("#walletuploadbutton").show(),$("#uploadbtntxt-wallet").show(),$("#uploadbtntxt-privkey").hide())}catch(t){$("#fuploadStatus").append('<p class="text-center text-danger"><strong> '+t+"</strong></p>")}},a.readAsText(file);var r=$(this).parents(".input-group").find(":text"),i=e>1?e+" files selected":n;r.length?r.val(i):i&&$("#fuploadStatus").append('<p class="text-center text-success"><strong> File Selected: '+i+"</strong></p>")})}function preSendTransaction(){sendTransaction($("#tasignedtx").val(),function(t){$("#txsendstatus").html('<p class="text-center text-success"><strong> Transaction submitted. TX ID: '+t+"</strong></p>"),setWalletBalance()},function(t){$("#txsendstatus").html('<p class="text-center text-danger"><strong>'+t+"</strong></p>")}),$("#sendTransaction").modal("hide")}function preCreateTransaction(){try{$("#tarawtx").val(""),$("#tasignedtx").val(""),$("#txsendstatus").html("");var t=$("#sendtxaddress").val();if(64!=PrivKey.length)throw"Invalid Private key, try again";if(!validateEtherAddress(t))throw"Invalid to Address, try again";if(!$.isNumeric($("#sendtxamount").val())||$("#sendtxamount").val()<=0)throw"Invalid amount, try again";var e=$("input[type=radio][name=currencyRadio]:checked").val(),n=toWei($("#sendtxamount").val(),e);createTransaction(PrivKey,t,n,function(n){$("#tarawtx").val(n.raw),$("#tasignedtx").val(n.signed),$("#txcreatestatus").html('<p class="text-center text-success"><strong> Transaction generated</strong></p>').fadeIn(50),$("#divtransactionTAs").show(),$("#divsendtranaction").show(),$("#confirmAmount").html($("#sendtxamount").val()),$("#confirmCurrancy").html(e),$("#confirmAddress").html(t)},function(t){$("#txcreatestatus").html('<p class="text-center text-danger"><strong> '+t+"</strong></p>").fadeIn(50).fadeOut(3e3),$("#divtransactionTAs").hide(),$("#divsendtranaction").hide()})}catch(a){$("#txcreatestatus").html('<p class="text-center text-danger"><strong> '+a+"</strong></p>").fadeIn(50).fadeOut(3e3),$("#divtransactionTAs").hide(),$("#divsendtranaction").hide()}}function setWalletBalance(){getBalance($("#accountAddress").html(),function(t){if(t.error)alert(t.msg);else{var e=getBestEtherKnownUnit(t.data.balance);$("#accountBalance").html(e.amount+" "+e.unit),getETHvalue("USD",function(t){usdval=toFiat(e.amount,e.unit,t),$("#accountBalanceUsd").html(usdval+" USD")}),getETHvalue("EUR",function(t){eurval=toFiat(e.amount,e.unit,t),$("#accountBalanceEur").html(eurval+" EUR")})}})}function walletDecryptSuccess(){$("#accountAddress").html(formatAddress(strPrivateKeyToAddress(PrivKey),"hex")),setWalletBalance(),$("#decryptStatus").html('<p class="text-center text-success"><strong> Wallet successfully decrypted</strong></p>').fadeIn(2e3),$("#wallettransactions").show()}function walletDecryptFailed(t){$("#decryptStatus").html('<p class="text-center text-danger"><strong> '+t+"</strong></p>").fadeIn(50).fadeOut(3e3),$("#wallettransactions").hide()}function decryptFormData(){if(PrivKey="","fupload"==decryptType){file=$(".btn-file :file")[0].files[0];var t=new FileReader;t.onload=function(){try{PrivKey=getWalletFilePrivKey(t.result,$("#walletfilepassword").val()),walletDecryptSuccess()}catch(e){walletDecryptFailed(e)}},t.readAsText(file)}else if("privkey"==decryptType)try{PrivKey=decryptTxtPrivKey($("#manualprivkey").val(),$("#privkeypassword").val()),walletDecryptSuccess()}catch(e){walletDecryptFailed("Invalid password")}}function hideAllMainContainers(){$("#paneWalgen").hide(),$("#paneBulkgen").hide(),$("#paneSendTrans").hide(),$("#panePopContracts").hide(),$("#paneHelp").hide(),$("#paneContact").hide(),$("#panePrint").hide(),$("#bulk-generate").parent().removeClass("active"),$("#generate-wallet").parent().removeClass("active"),$("#send-transaction").parent().removeClass("active"),$("#popular-contracts").parent().removeClass("active"),$("#help").parent().removeClass("active"),$("#contact").parent().removeClass("active")}function generateSingleWallet(){var t=$("#ethgenpassword").val();if(""==t)return void alert("Please enter a password.");if(t.length<7)return void alert("Your password must be at least 7 characters");$("#generatedWallet").show();var e=new Accounts,n=e["new"](t);$("#address").val(n.address);var a=cryptoJSToHex(CryptoJS.SHA3(n.address));a=a.substr(a.length-4);var r=e.get(n.address,t);$("#privkey").val(r["private"]),n["private"]=n["private"]+a,$("#privkeyenc").val(n["private"]),$("#qrcodeAdd").empty(),new QRCode($("#qrcodeAdd")[0],{text:n.address,width:$("#qrcode").width(),height:$("#qrcode").width(),colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),$("#qrcode").empty(),new QRCode($("#qrcode")[0],{text:r["private"],width:$("#qrcode").width(),height:$("#qrcode").width(),colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});var i="text/json;charset=UTF-8",o=new Blob([JSON.stringify(n)],{type:i}),s=new Blob([JSON.stringify(r)],{type:i});$("#encdownload").attr("href",window.URL.createObjectURL(o)),$("#encdownload").attr("download",n.address+"-Encrypted.json"),$("#unencdownload").attr("href",window.URL.createObjectURL(s)),$("#unencdownload").attr("download",n.address+"-Unencrypted.json"),e.clear()}function generateBulkWallets(){var t=$("#bulkgenpassword").val(),e=$("#numberwallets").val();if(""==e)return void alert("Please enter the amount of wallets you want to generate.");if(e!=parseInt(e,10))return void alert("Digits only please");var n=!1;if(""!=t&&t.length<7)return void alert("Your password must be at least 7 characters.");""!=t&&t.length>=7&&(n=!0),$("#bulkIsEnc").html(n?" (Encrypted)":" (Unencrypted)"),$("#generatedbulkwallets").show(),$("#bulkgentable tr:not(:first)").remove();for(var a=new Accounts,r="",i=[],o=[],s="",d=0;e>d;d++){if(n){var l=a["new"](t),c=cryptoJSToHex(CryptoJS.SHA3(l.address));c=c.substr(c.length-4),l["private"]=l["private"]+c}else var l=a["new"]();$("#bulkgentable tr:last").after('<tr class="privaddkey"><td><textarea class="form-control" rows="4" type="text" disabled>'+l.address+'</textarea></td><td><textarea class="form-control" rows="4" type="text" disabled>'+l["private"]+"</textarea></td></tr>"),r+=l.address+","+l["private"]+"\n",s+=l.address+"	"+l["private"]+"\n",i.push({address:l.address,"private":l["private"]}),o.push({address:l.address,"private":a.get(l.address,t)["private"]})}var u=new Blob([r],{type:"text/csv;charset=UTF-8"}),p=new Blob([s],{type:"text/plain;charset=UTF-8"}),h=new Blob([JSON.stringify(i)],{type:"text/json;charset=UTF-8"}),v="bulk_ether_accounts";$("#bulkexportjson").attr("href",window.URL.createObjectURL(h)),$("#bulkexportjson").attr("download",v+".json"),$("#bulkexportcsv").attr("href",window.URL.createObjectURL(u)),$("#bulkexportcsv").attr("download",v+".csv"),$("#bulkexporttxt").attr("href",window.URL.createObjectURL(p)),$("#bulkexporttxt").attr("download",v+".txt"),$("#bulkwalletprint").unbind(),$("#bulkwalletprint").click(function(){openPrintPaperWallets(JSON.stringify(o))}),a.clear()}function openPrintPaperWallets(t){var e=window.open("about:blank","_blank");$.get("printwallets.html",function(n){n=n.replace("{{WALLETJSON}}",t),e.document.write(n),$(e).ready(function(){e.document.write("<script>generateWallets();</script>")})})}function printQRcode(){var t=$("#address").val(),e=$("#privkey").val(),n=[];n.push({address:t,"private":e}),openPrintPaperWallets(JSON.stringify(n))}function getBalance(t,e){$.post(SERVERURL,{balance:t}).done(e)}function getTransactionData(t,e){$.post(SERVERURL,{txdata:t}).done(e)}function sendRawTx(t,e){$.post(SERVERURL,{rawtx:t}).done(e)}function getEstimatedGas(t,e){$.post(SERVERURL,{estimatedGas:t}).done(e)}function getEthCall(t,e){$.post(SERVERURL,{ethCall:t}).done(e)}function getETHvalue(t,e){var n="XETHZ";$.post(KRAKENAPI+"Ticker",{pair:n+t}).done(function(a){e(a.result[n+t].o)})}function createTransaction(t,e,n,a,r){if(64!=t.length)return void r("Invalid Private key, try again");if(!validateEtherAddress(e))return void r("Invalid to Address, try again");if(!$.isNumeric(n)||0>=n)return void r("Invalid amount, try again");var i=new Buffer(t,"hex"),o=strPrivateKeyToAddress(t);getTransactionData(o,function(t){if(t.error)return void r("Error occurred: "+t.msg);t=t.data;var o=padLeftEven(BNtoHex(new BigNumber(t.nonce))),s=padLeftEven(BNtoHex(new BigNumber(t.gasprice).plus(1e9).toDigits(1))),d=padLeftEven(BNtoHex(new BigNumber(stdTransactionGas))),l=padLeftEven(BNtoHex(new BigNumber(String(n)))),c={nonce:o,gasPrice:s,gasLimit:d,to:e,value:l,data:""},u=new Tx(c);u.sign(i),verifyUpFrontCost(c,function(e){if(e>t.balance)return void r("You dont have enough balance in your account to process is transaction");var n="0x"+u.serialize().toString("hex"),i={raw:JSON.stringify(c),signed:n};a(i)},r)})}function createTransactionFromRaw(t,e,n,a){if(64!=e.length)return void a("Invalid Private key, try again");if(!validateEtherAddress(t.from)||!validateEtherAddress(t.to))return void a("Invalid Address, try again");if(!$.isNumeric(t.value)||t.value<=0)return void a("Invalid amount, try again");var r=new Buffer(e,"hex"),i=strPrivateKeyToAddress(e);getTransactionData(i,function(e){if(e.error)return void a("Error occurred: "+e.msg);e=e.data;var i=padLeftEven(BNtoHex(new BigNumber(e.nonce))),o=padLeftEven(BNtoHex(new BigNumber(e.gasprice).plus(1e9).toDigits(1))),s=padLeftEven(BNtoHex(new BigNumber(t.gas))),d=padLeftEven(BNtoHex(new BigNumber(String(t.value)))),l={nonce:i,gasPrice:o,gasLimit:s,to:t.to,value:d,data:t.data},c=new Tx(l);c.sign(r),verifyUpFrontCost(l,function(t){if(t>e.balance)return void a("You dont have enough balance in your account to process is transaction");var r="0x"+c.serialize().toString("hex"),i={raw:JSON.stringify(l),signed:r};n(i)},a)})}function verifyUpFrontCost(t,e,n){getEstimatedGas(t,function(a){if(a.error)n("Error occurred: "+a.msg);else if(new BigNumber(formatHexString(a.data,"hex")).greaterThan(new BigNumber(formatHexString(t.gasLimit,"hex"))))n("Gas limit is too low");else{var r=new BigNumber(formatHexString(t.gasPrice,"hex")).times(new BigNumber(formatHexString(t.gasLimit,"hex")));e(r.plus(new BigNumber(formatHexString(t.value,"hex"))).toNumber())}})}function getMaxSendAmount(t,e,n){getTransactionData(t,function(t){if(t.error)return void n("Error occurred: "+t.msg);t=t.data;var a=new BigNumber(t.gasprice).plus(1e9).toDigits(1).times(stdTransactionGas),r=new BigNumber(String(t.balance)).minus(a);r.lessThan(0)?n("Not enough balance to send a transaction"):e(toEther(r.toString(),"wei"))})}function sendTransaction(t,e,n){sendRawTx(t,function(t){return t.error?void n("Error occurred: "+t.msg):void e(t.data)})}function BNtoHex(t){return t.toString(16)}function padLeftEven(t){return t.length%2!=0?"0"+t:t}function formatHexString(t,e){return"hex"==e?"0x"==t.substring(0,2)?t:"0x"+t:"raw"==e?"0x"==t.substring(0,2)?t.substring(2):t:void 0}function fiatToWei(t,e){var n=new BigNumber(String(t)).div(e).times(getValueOfUnit("ether")).round(0);return n.toString(10)}function toFiat(t,e,n){var a=new BigNumber(toEther(t,e)).times(n).round(5);return a.toString(10)}function toEther(t,e){var n=new BigNumber(toWei(t,e)).div(getValueOfUnit("ether"));return n.toString(10)}function toWei(t,e){var n=new BigNumber(String(t)).times(getValueOfUnit(e));return n.toString(10)}function getValueOfUnit(t){t=t?t.toLowerCase():"ether";var e=unitMap[t];if(void 0===e)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(unitMap,null,2));return new BigNumber(e,10)}function getBestEtherKnownUnit(t){t=String(t);var e="wei",n=new BigNumber(t);for(var a in knownUnitMap)knownUnitMap.hasOwnProperty(a)&&new BigNumber(t).greaterThan(new BigNumber(knownUnitMap[a]))&&(e=a,n=new BigNumber(t).div(new BigNumber(knownUnitMap[a])));return{unit:e,amount:n.toDigits(10).toString(10)}}function decryptPresaleKey(t,e){t=JSON.parse(t);var n=hexToBytes(t.encseed),a=hexToCryptoJS(bytesToHex(n.slice(0,16))),r=hexToCryptoJS(bytesToHex(n.slice(16))),i=sha256.pbkdf2(stringToBytes(e),stringToBytes(e),2e3,16),o=hexToBytes(bytesToHex(i)).slice(0,16),s=CryptoJS.AES.decrypt({ciphertext:r},hexToCryptoJS(bytesToHex(o)),{iv:a,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),d=cryptoJSToHex(s);s=hex2str(d);var l=CryptoJS.SHA3(s,{outputLength:256}),c=l.toString();if(verifyPrivKey(c,t.ethaddr))return c;throw"Invalid Password"}function decryptGethKeyV3(t,e){t=JSON.parse(t),null==t.Crypto&&null!=t.crypto&&(t.Crypto=t.crypto);var n=t.Crypto.cipherparams.iv,a=t.Crypto.ciphertext,r=getKDFKey(t.Crypto,e),i=hexToBytes(bytesToHex(r)).slice(0,16),o=CryptoJS.AES.decrypt({ciphertext:hexToCryptoJS(a)},hexToCryptoJS(bytesToHex(i)),{mode:CryptoJS.mode.CTR,padding:CryptoJS.pad.ZeroPadding,iv:hexToCryptoJS(n)}),s=cryptoJSToHex(o);if(verifyPrivKey(s,t.address))return s;throw"Invalid Password"}function decryptTxtPrivKey(t,e){if(128==t.length)var n=CryptoJS.AES.decrypt(t,e),a=hex2str(cryptoJSToHex(n));else if(132==t.length){var n=CryptoJS.AES.decrypt(t.substr(0,128),e),a=hex2str(cryptoJSToHex(n)),r=t.substr(t.length-4),i=formatAddress(strPrivateKeyToAddress(a),"hex"),o=cryptoJSToHex(CryptoJS.SHA3(i));if(o.substr(o.length-4)!=r)throw"Invalid Password"}else{if(64!=t.length)throw"Error while decrypting your wallet";var a=t}return a}function decryptEthWalletJson(t,e){if(t=JSON.parse(t),t.locked&&128==t["private"].length)var n=CryptoJS.AES.decrypt(t["private"],e),a=hex2str(cryptoJSToHex(n));else if(t.locked&&132==t["private"].length)var n=CryptoJS.AES.decrypt(t["private"].substr(0,128),e),a=hex2str(cryptoJSToHex(n));else{if(t.locked||64!=t["private"].length)throw"Error while decrypting your wallet";var a=t["private"]}if(verifyPrivKey(a,formatAddress(t.address,"raw")))return a;throw"Invalid Password"}function walletRequirePass(t){var e;try{e=JSON.parse(t)}catch(n){throw"not a valid wallet file"}if(null!=e.encseed)return!0;if(null!=e.Crypto||null!=e.crypto)return!0;if(null!=e.hash&&e.locked)return!0;if(null==e.hash||e.locked)throw"Sorry! we dont have a clue what kind of wallet file this is.";return!1}function verifyPrivKey(t,e){return 64!=t.length?!1:strPrivateKeyToAddress(t)!=e?!1:!0}function getWalletFilePrivKey(t,e){var n=JSON.parse(t);if(null!=n.encseed)return decryptPresaleKey(t,e);if(null!=n.Crypto||null!=n.crypto)return decryptGethKeyV3(t,e);if(null!=n.hash)return decryptEthWalletJson(t,e);throw"Sorry! we dont have a clue what kind of wallet file this is."}function formatAddress(t,e){return"0x"==t.substr(0,2)&&"raw"==e&&(t=t.substr(2)),"0x"!=t.substr(0,2)&&"hex"==e&&(t="0x"+t),t}function strPrivateKeyToAddress(t){var e=ethUtil.privateToPublic(new Buffer(t,"hex"));return ethUtil.publicToAddress(e).toString("hex")}function getKDFKey(t,e){var n=hexToBytes(t.kdfparams.salt),a=stringToBytes(e),r=t.kdfparams.dklen;if("scrypt"==t.kdf){var i=t.kdfparams.n,o=t.kdfparams.r,s=t.kdfparams.p,d=scrypt_module_factory(335544320);return d.crypto_scrypt(a,n,i,o,s,r)}if("pbkdf2"==t.kdf){var l=t.kdfparams.c,c=(t.kdfparams.prf,sha256.pbkdf2(stringToBytes(e),hexToBytes(t.kdfparams.salt),l,r));return c}}function hexToCryptoJS(t){return CryptoJS.enc.Hex.parse(t)}function cryptoJSToHex(t){return CryptoJS.enc.Hex.stringify(t)}function validateEtherAddress(t){return 42==t.length&&"0x"==t.substr(0,2)&&/^[0-9A-F]+$/i.test(t.substr(2))}function hex2str(t){for(var t=t.toString(),e="",n=0;n<t.length;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e}function bytesToHex(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")}function hexToBytes(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e}function stringToBytes(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}function bindAugurElements(){$("#btnpurchaseaugur").click(function(){preCreateAugurTransaction()}),$("#accountBalance").bind("DOMSubtreeModified",function(){var t=augurContract.getAmountSent.getTransactionPayload($("#accountAddress").html());getEthCall(t,function(t){$("#augurbalance").html(t.error?t.msg:toEther(new BigNumber(t.data).toNumber(),"wei")+" ether")})})}function preCreateAugurTransaction(){try{if($("#tarawtx").val(""),$("#tasignedtx").val(""),$("#txsendstatus").html(""),64!=PrivKey.length)throw"Invalid Private key, try again";if(!$.isNumeric($("#sendtxamount").val())||$("#sendtxamount").val()<=0)throw"Invalid amount, try again";var t=$("input[type=radio][name=currencyRadio]:checked").val(),e=toWei($("#sendtxamount").val(),t),n=augurContract.buyRep.getTransactionPayload({from:formatAddress(strPrivateKeyToAddress(PrivKey),"hex"),value:e,gas:15e4});createTransactionFromRaw(n,PrivKey,function(e){$("#tarawtx").val(e.raw),$("#tasignedtx").val(e.signed),$("#txcreatestatus").html('<p class="text-center text-success"><strong> Transaction generated</strong></p>').fadeIn(50),$("#divtransactionTAs").show(),$("#divsendtranaction").show(),$("#confirmAmount").html($("#sendtxamount").val()),$("#confirmCurrancy").html(t)},function(t){$("#txcreatestatus").html('<p class="text-center text-danger"><strong> '+t+"</strong></p>").fadeIn(50).fadeOut(3e3),$("#divtransactionTAs").hide(),$("#divsendtranaction").hide()})}catch(a){$("#txcreatestatus").html('<p class="text-center text-danger"><strong> '+a+"</strong></p>").fadeIn(50).fadeOut(3e3),$("#divtransactionTAs").hide(),$("#divsendtranaction").hide()}}var PrivKey="",decryptType="",usdval,eurval,web3=new Web3;$(document).ready(function(){bindElements(),checkAndLoadPageHash(),checkAndRedirectHTTPS()});var SERVERURL="https://rpc.myetherwallet.com/api.php",KRAKENAPI="https://api.kraken.com/0/public/",stdTransactionGas=21e3,knownUnitMap={wei:"1",kwei:"1000",gwei:"1000000000",szabo:"1000000000000",finney:"1000000000000000",ether:"1000000000000000000"},unitMap={wei:"1",kwei:"1000",ada:"1000",femtoether:"1000",mwei:"1000000",babbage:"1000000",picoether:"1000000",gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",einstein:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};$(document).ready(function(){bindAugurElements()});var augurContract=web3.eth.contract([{name:"addrToFunder(int256)",type:"function",inputs:[{name:"address",type:"int256"}],outputs:[{name:"out",type:"int256"}]},{name:"buyRep()",type:"function",inputs:[],outputs:[{name:"out",type:"int256"}]},{name:"getAddrByIndex(int256)",type:"function",inputs:[{name:"index",type:"int256"}],outputs:[{name:"out",type:"int256"}]},{name:"getAmountSent(int256)",type:"function",inputs:[{name:"address",type:"int256"}],outputs:[{name:"out",type:"int256"}]},{name:"getAmtByIndex(int256)",type:"function",inputs:[{name:"index",type:"int256"}],outputs:[{name:"out",type:"int256"}]},{name:"getBlockNumByIndex(int256)",type:"function",inputs:[{name:"index",type:"int256"}],outputs:[{name:"out",type:"int256"}]},{name:"getBlockNumSent(int256)",type:"function",inputs:[{name:"address",type:"int256"}],outputs:[{name:"out",type:"int256"}]},{name:"getFunderNum()",type:"function",inputs:[],outputs:[{name:"out",type:"int256"}]},{name:"getFundsRaised()",type:"function",inputs:[],outputs:[{name:"out",type:"int256"}]}]).at("0xe28e72fcf78647adce1f1252f240bbfaebd63bcc");